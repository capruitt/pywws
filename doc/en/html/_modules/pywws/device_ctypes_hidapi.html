

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pywws.device_ctypes_hidapi &mdash; pywws 15.05.0.dev1300 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/pywws_logo.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="copyright" title="Copyright" href="../../copyright.html"/>
    <link rel="top" title="pywws 15.05.0.dev1300 documentation" href="../../index.html"/>
        <link rel="up" title="Module code" href="../index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="../../index.html" class="icon icon-home"> pywws
        

        
          
          <img src="../../_static/pywws_logo.png" class="logo" />
        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../essentials/LICENCE.html">Licence</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../copyright.html">pywws Contributors</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../copyright.html#contributing-to-pywws">Contributing to pywws</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../copyright.html#developer-certificate-of-origin">Developer Certificate of Origin</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../essentials/dependencies.html">Dependencies</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../essentials/dependencies.html#essential">Essential</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../essentials/dependencies.html#usb-library">USB library</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../essentials/dependencies.html#mac-os-x">Mac OS X</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../essentials/dependencies.html#other-systems">Other systems</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../essentials/dependencies.html#flexible-timed-tasks">Flexible timed tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../essentials/dependencies.html#running-as-a-daemon">Running as a daemon</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../essentials/dependencies.html#graph-drawing">Graph drawing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../essentials/dependencies.html#secure-website-uploading-sftp">Secure website uploading (sftp)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../essentials/dependencies.html#twitter-updates">Twitter updates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../essentials/dependencies.html#mqtt">MQTT</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../essentials/dependencies.html#to-create-new-language-translations">To create new language translations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../essentials/dependencies.html#to-compile-the-documentation">To &#8216;compile&#8217; the documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../essentials/CHANGELOG.html">Change log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/index.html">User guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../guides/getstarted.html">How to get started with pywws</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../guides/getstarted.html#installation">Installation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../guides/getstarted.html#easy-installation">Easy installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../guides/getstarted.html#download-and-extract">Download and extract</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../guides/getstarted.html#clone-the-repository">Clone the repository</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../guides/getstarted.html#install-scripts">Install scripts</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/getstarted.html#compile-documentation-optional">Compile documentation (optional)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/getstarted.html#test-the-weather-station-connection">Test the weather station connection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/getstarted.html#set-up-your-weather-station">Set up your weather station</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/getstarted.html#set-the-weather-station-logging-interval">Set the weather station logging interval</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/getstarted.html#log-your-weather-station-data">Log your weather station data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/getstarted.html#convert-old-easyweather-data-optional">Convert old EasyWeather data (optional)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/getstarted.html#set-some-configuration-options">Set some configuration options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/getstarted.html#process-the-raw-data">Process the raw data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/getstarted.html#read-the-documentation">Read the documentation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../guides/hourlylogging.html">How to set up &#8216;hourly&#8217; logging with pywws</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../guides/hourlylogging.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/hourlylogging.html#getting-started">Getting started</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/hourlylogging.html#configuring-file-locations">Configuring file locations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/hourlylogging.html#configuring-periodic-tasks">Configuring periodic tasks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/hourlylogging.html#run-as-a-cron-job">Run as a cron job</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../guides/livelogging.html">How to set up &#8216;live&#8217; logging with pywws</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../guides/livelogging.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/livelogging.html#getting-started">Getting started</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/livelogging.html#configuring-file-locations">Configuring file locations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/livelogging.html#configuring-periodic-tasks">Configuring periodic tasks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/livelogging.html#asynchronous-uploads">Asynchronous uploads</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/livelogging.html#run-in-the-background">Run in the background</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/livelogging.html#automatic-restarting">Automatic restarting</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../guides/integration.html">How to integrate pywws with various weather services</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../guides/integration.html#yowindow">YoWindow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/integration.html#twitter">Twitter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/integration.html#other-services">Other &#8220;services&#8221;</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../guides/integration.html#citizen-weather-observer-program">Citizen Weather Observer Program</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../guides/integration.html#mqtt">MQTT</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../guides/integration.html#uk-met-office">UK Met Office</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../guides/integration.html#open-weather-map">Open Weather Map</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../guides/integration.html#pws-weather">PWS Weather</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../guides/integration.html#temperatur-nu">temperatur.nu</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../guides/integration.html#weather-underground">Weather Underground</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../guides/integration.html#weather-underground-rapidfire-updates">Weather Underground &#8220;RapidFire&#8221; updates</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../guides/integration.html#wetter-com">wetter.com</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../guides/twitter.html">How to configure pywws to post messages to Twitter</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../guides/twitter.html#install-dependencies">Install dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/twitter.html#create-a-twitter-account">Create a Twitter account</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/twitter.html#authorise-pywws-to-post-to-your-twitter-account">Authorise pywws to post to your Twitter account</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/twitter.html#add-location-data-optional">Add location data (optional)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/twitter.html#create-a-template">Create a template</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/twitter.html#post-your-first-weather-tweet">Post your first weather Tweet</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/twitter.html#add-twitter-updates-to-your-hourly-tasks">Add Twitter updates to your hourly tasks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/twitter.html#include-an-image-in-your-tweet">Include an image in your tweet</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../guides/language.html">How to use pywws in another language</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../guides/language.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/language.html#using-an-existing-language-file">Using an existing language file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/language.html#dependencies">Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/language.html#translating-the-easy-way-the-transifex-web-site">Translating the easy way - the Transifex web site</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/language.html#translating-the-hard-way-using-local-files">Translating the hard way - using local files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../guides/language.html#extract-source-strings">Extract source strings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../guides/language.html#create-language-files">Create language files</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/language.html#test-the-pywws-translation">Test the pywws translation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/language.html#notes-for-translators">Notes for translators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/language.html#send-jim-the-translation">Send Jim the translation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/language.html#translating-the-documentation">Translating the documentation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../guides/language.html#id1">Extract source strings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../guides/language.html#id2">Create language files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../guides/language.html#viewing-your-translated-documentation">Viewing your translated documentation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../guides/weather_ini.html">weather.ini - configuration file format</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../guides/weather_ini.html#config-miscellaneous-system-configuration">config: miscellaneous system configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/weather_ini.html#paths-directories-in-which-templates-etc-are-stored">paths: directories in which templates etc. are stored</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/weather_ini.html#live-tasks-to-be-done-every-48-seconds">live: tasks to be done every 48 seconds</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/weather_ini.html#logged-tasks-to-be-done-every-time-the-station-logs-a-data-record">logged: tasks to be done every time the station logs a data record</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/weather_ini.html#cron-tasks-to-be-done-at-a-particular-time-or-date">cron: tasks to be done at a particular time or date</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/weather_ini.html#hourly-tasks-to-be-done-every-hour">hourly: tasks to be done every hour</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/weather_ini.html#hourly-tasks-to-be-done-every-12-hours">12 hourly: tasks to be done every 12 hours</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/weather_ini.html#daily-tasks-to-be-done-every-24-hours">daily: tasks to be done every 24 hours</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/weather_ini.html#ftp-configuration-of-uploading-to-a-website">ftp: configuration of uploading to a website</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/weather_ini.html#twitter-configuration-of-posting-to-twitter">twitter: configuration of posting to Twitter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/weather_ini.html#underground-metoffice-temperaturnu-etc-configuration-of-posting-to-services">underground, metoffice, temperaturnu etc: configuration of posting to &#8216;services&#8217;</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../guides/weather_ini.html#status-ini-status-file-format">status.ini - status file format</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../guides/weather_ini.html#fixed-values-copied-from-the-weather-station-s-fixed-block">fixed: values copied from the weather station&#8217;s &#8220;fixed block&#8221;</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/weather_ini.html#clock-synchronisation-information">clock: synchronisation information</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/weather_ini.html#last-update-date-and-time-of-most-recent-task-completions">last update: date and time of most recent task completions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../guides/humidex.html">Humidity Index (Humidex)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../guides/humidex.html#background">Background</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/humidex.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/humidex.html#assumptions">Assumptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/humidex.html#important-references">Important References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/humidex.html#how-to-use">How to use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../guides/humidex.html#not-running-the-latest-update">Not running the latest update?</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../api_index.html">Python modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api_index.html#set-up-and-configure-pywws">Set up and configure pywws</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/pywws.TestWeatherStation.html">pywws.TestWeatherStation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/pywws.SetWeatherStation.html">pywws.SetWeatherStation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/pywws.version.html">pywws.version</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/pywws.Reprocess.html">pywws.Reprocess</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/pywws.TwitterAuth.html">pywws.TwitterAuth</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/pywws.USBQualityTest.html">pywws.USBQualityTest</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/pywws.EWtoPy.html">pywws.EWtoPy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.EWtoPy.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.EWtoPy.html#detailed-api">Detailed API</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api_index.html#get-data-and-process-it">Get data and process it</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/pywws.Hourly.html">pywws.Hourly</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/pywws.LiveLog.html">pywws.LiveLog</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/pywws.livelogdaemon.html">pywws.livelogdaemon</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api_index.html#internal-modules">&#8220;Internal&#8221; modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/pywws.Tasks.html">pywws.Tasks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/pywws.LogData.html">pywws.LogData</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.LogData.html#detailed-api">Detailed API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/pywws.Process.html">pywws.Process</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/pywws.calib.html">pywws.calib</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.calib.html#calibrate-raw-weather-station-data">Calibrate raw weather station data</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/pywws.Plot.html">pywws.Plot</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.Plot.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.Plot.html#detailed-api">Detailed API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/pywws.WindRose.html">pywws.WindRose</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.WindRose.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.WindRose.html#xml-graph-file-syntax">XML graph file syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.WindRose.html#detailed-api">Detailed API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/pywws.Template.html">pywws.Template</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.Template.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.Template.html#processing-instructions">Processing instructions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.Template.html#example">Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.Template.html#detailed-api">Detailed API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/pywws.Forecast.html">pywws.Forecast</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/pywws.ZambrettiCore.html">pywws.ZambrettiCore</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/pywws.Upload.html">pywws.Upload</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.Upload.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.Upload.html#detailed-api">Detailed API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/pywws.ToTwitter.html">pywws.ToTwitter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/pywws.toservice.html">pywws.toservice</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.toservice.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.toservice.html#configuration">Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.toservice.html#upload-old-data">Upload old data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.toservice.html#add-service-s-upload-to-regular-tasks">Add service(s) upload to regular tasks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.toservice.html#using-a-different-template">Using a different template</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.toservice.html#api">API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/pywws.YoWindow.html">pywws.YoWindow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/pywws.WeatherStation.html">pywws.WeatherStation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.WeatherStation.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.WeatherStation.html#detailed-api">Detailed API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/pywws.device_libusb1.html">pywws.device_libusb1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.device_libusb1.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.device_libusb1.html#testing">Testing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.device_libusb1.html#api">API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/pywws.device_pyusb1.html">pywws.device_pyusb1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.device_pyusb1.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.device_pyusb1.html#testing">Testing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.device_pyusb1.html#api">API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/pywws.device_pyusb.html">pywws.device_pyusb</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.device_pyusb.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.device_pyusb.html#testing">Testing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.device_pyusb.html#api">API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/pywws.device_ctypes_hidapi.html">pywws.device_ctypes_hidapi</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.device_ctypes_hidapi.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.device_ctypes_hidapi.html#testing">Testing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.device_ctypes_hidapi.html#api">API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/pywws.device_cython_hidapi.html">pywws.device_cython_hidapi</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.device_cython_hidapi.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.device_cython_hidapi.html#testing">Testing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.device_cython_hidapi.html#api">API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/pywws.DataStore.html">pywws.DataStore</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.DataStore.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.DataStore.html#detailed-api">Detailed API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/pywws.TimeZone.html">pywws.TimeZone</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.TimeZone.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.TimeZone.html#detailed-api">Detailed API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/pywws.Localisation.html">pywws.Localisation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.Localisation.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.Localisation.html#using-a-different-language">Using a different language</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/pywws.Localisation.html#creating-a-new-translation">Creating a new translation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/pywws.conversions.html">pywws.conversions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/pywws.Logger.html">pywws.Logger</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/pywws.constants.html">pywws.constants</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">pywws</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Module code</a> &raquo;</li>
      
    <li>pywws.device_ctypes_hidapi</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <h1>Source code for pywws.device_ctypes_hidapi</h1><div class="highlight"><pre>
<span class="c"># pywws - Python software for USB Wireless Weather Stations</span>
<span class="c"># http://github.com/jim-easterbrook/pywws</span>
<span class="c"># Copyright (C) 2008-15  Jim Easterbrook  jim@jim-easterbrook.me.uk</span>

<span class="c"># This program is free software; you can redistribute it and/or</span>
<span class="c"># modify it under the terms of the GNU General Public License</span>
<span class="c"># as published by the Free Software Foundation; either version 2</span>
<span class="c"># of the License, or (at your option) any later version.</span>

<span class="c"># This program is distributed in the hope that it will be useful,</span>
<span class="c"># but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="c"># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="c"># GNU General Public License for more details.</span>

<span class="c"># You should have received a copy of the GNU General Public License</span>
<span class="c"># along with this program; if not, write to the Free Software</span>
<span class="c"># Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.</span>

<span class="sd">&quot;&quot;&quot;Low level USB interface to weather station, using ctypes to access hidapi.</span>

<span class="sd">Introduction</span>
<span class="sd">============</span>

<span class="sd">This module handles low level communication with the weather station</span>
<span class="sd">via `ctypes &lt;http://docs.python.org/2/library/ctypes.html&gt;`_ and the</span>
<span class="sd">`hidapi &lt;https://github.com/signal11/hidapi&gt;`_ library. It is one of</span>
<span class="sd">several USB device modules, each of which uses a different USB library</span>
<span class="sd">interface. See :ref:`Installation - USB library&lt;dependencies-usb&gt;` for</span>
<span class="sd">details.</span>


<span class="sd">Testing</span>
<span class="sd">=======</span>

<span class="sd">Run :py:mod:`pywws.TestWeatherStation` with increased verbosity so it</span>
<span class="sd">reports which USB device access module is being used::</span>

<span class="sd">    python -m pywws.TestWeatherStation -vv</span>
<span class="sd">    18:10:27:pywws.WeatherStation.CUSBDrive:using pywws.device_ctypes_hidapi</span>
<span class="sd">    0000 55 aa ff ff ff ff ff ff ff ff ff ff ff ff ff ff 05 20 01 51 11 00 00 00 81 00 00 07 01 00 d0 56</span>
<span class="sd">    0020 61 1c 61 1c 00 00 00 00 00 00 00 12 02 14 18 09 41 23 c8 00 32 80 47 2d 2c 01 2c 81 5e 01 1e 80</span>
<span class="sd">    0040 a0 00 c8 80 a0 28 80 25 a0 28 80 25 03 36 00 05 6b 00 00 0a 00 f4 01 18 00 00 00 00 00 00 00 00</span>
<span class="sd">    0060 00 00 54 1c 63 0a 2f 01 71 00 7a 01 59 80 7a 01 59 80 e4 00 f5 ff 69 54 00 00 fe ff 00 00 b3 01</span>
<span class="sd">    0080 0c 02 d0 ff d3 ff 5a 24 d2 24 dc 17 00 11 09 06 15 40 10 03 07 22 18 10 08 11 08 30 11 03 07 12</span>
<span class="sd">    00a0 36 08 07 24 17 17 11 02 28 10 10 09 06 30 14 29 12 02 11 06 57 09 06 30 14 29 12 02 11 06 57 08</span>
<span class="sd">    00c0 08 31 14 30 12 02 14 18 04 12 02 01 10 12 11 09 13 17 19 11 08 21 16 53 11 09 13 17 19 12 01 18</span>
<span class="sd">    00e0 07 17 10 02 22 11 06 11 11 06 13 12 11 11 06 13 12 11 11 10 11 38 11 11 10 11 38 10 02 22 14 43</span>

<span class="sd">API</span>
<span class="sd">===</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="n">__docformat__</span> <span class="o">=</span> <span class="s">&quot;restructuredtext en&quot;</span>

<span class="kn">import</span> <span class="nn">ctypes</span>
<span class="kn">from</span> <span class="nn">ctypes.util</span> <span class="kn">import</span> <span class="n">find_library</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="k">if</span> <span class="s">&#39;sphinx&#39;</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">:</span>
    <span class="c"># building documentation, don&#39;t need to import hidapi</span>
    <span class="k">pass</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c"># open hidapi shared library</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">find_library</span><span class="p">(</span><span class="s">&#39;hidapi&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="p">:</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">find_library</span><span class="p">(</span><span class="s">&#39;hidapi-libusb&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="p">:</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">find_library</span><span class="p">(</span><span class="s">&#39;hidapi-hidraw&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ImportError</span><span class="p">(</span><span class="s">&#39;Cannot find hidapi library&#39;</span><span class="p">)</span>
    <span class="n">hidapi</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">CDLL</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="n">hidapi</span><span class="o">.</span><span class="n">hid_open</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">c_ushort</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_ushort</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_wchar_p</span><span class="p">]</span>
    <span class="n">hidapi</span><span class="o">.</span><span class="n">hid_open</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span>
    <span class="n">hidapi</span><span class="o">.</span><span class="n">hid_read_timeout</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">]</span>
    <span class="n">hidapi</span><span class="o">.</span><span class="n">hid_write</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">]</span>

<div class="viewcode-block" id="USBDevice"><a class="viewcode-back" href="../../api/pywws.device_ctypes_hidapi.html#pywws.device_ctypes_hidapi.USBDevice">[docs]</a><span class="k">class</span> <span class="nc">USBDevice</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vendor_id</span><span class="p">,</span> <span class="n">product_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Low level USB device access via hidapi library.</span>

<span class="sd">        :param idVendor: the USB &quot;vendor ID&quot; number, for example 0x1941.</span>

<span class="sd">        :type idVendor: int</span>

<span class="sd">        :param idProduct: the USB &quot;product ID&quot; number, for example 0x8021.</span>

<span class="sd">        :type idProduct: int</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">device</span> <span class="o">=</span> <span class="n">hidapi</span><span class="o">.</span><span class="n">hid_open</span><span class="p">(</span><span class="n">vendor_id</span><span class="p">,</span> <span class="n">product_id</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">device</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="s">&quot;Weather station device not found&quot;</span><span class="p">)</span>
        <span class="c"># flush any unread input</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">read_data</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
            <span class="k">pass</span>

<div class="viewcode-block" id="USBDevice.read_data"><a class="viewcode-back" href="../../api/pywws.device_ctypes_hidapi.html#pywws.device_ctypes_hidapi.USBDevice.read_data">[docs]</a>    <span class="k">def</span> <span class="nf">read_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Receive data from the device.</span>

<span class="sd">        If the read fails for any reason, an :obj:`IOError` exception</span>
<span class="sd">        is raised.</span>

<span class="sd">        :param size: the number of bytes to read.</span>

<span class="sd">        :type size: int</span>

<span class="sd">        :return: the data received.</span>

<span class="sd">        :rtype: list(int)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
        <span class="k">while</span> <span class="n">size</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">length</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">size</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
            <span class="n">n</span> <span class="o">=</span> <span class="n">hidapi</span><span class="o">.</span><span class="n">hid_read_timeout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">length</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span>
                    <span class="s">&#39;pywws.device_ctypes_hidapi.USBDevice.read_data failed&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
                <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
            <span class="n">size</span> <span class="o">-=</span> <span class="n">n</span>
        <span class="k">return</span> <span class="n">result</span>
</div>
<div class="viewcode-block" id="USBDevice.write_data"><a class="viewcode-back" href="../../api/pywws.device_ctypes_hidapi.html#pywws.device_ctypes_hidapi.USBDevice.write_data">[docs]</a>    <span class="k">def</span> <span class="nf">write_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">buf</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Send data to the device.</span>

<span class="sd">        :param buf: the data to send.</span>

<span class="sd">        :type buf: list(int)</span>

<span class="sd">        :return: success status.</span>

<span class="sd">        :rtype: bool</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="s">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">chr</span><span class="p">,</span> <span class="n">buf</span><span class="p">))</span>
        <span class="n">size</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">hidapi</span><span class="o">.</span><span class="n">hid_write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">size</span><span class="p">)</span> <span class="o">!=</span> <span class="n">size</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span>
                <span class="s">&#39;pywws.device_ctypes_hidapi.USBDevice.write_data failed&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">True</span></div></div>
</pre></div>

          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; <a href="../../copyright.html">Copyright</a> 2008-15, pywws contributors.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'15.05.0.dev1300',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>